#include <cstdlib>
#include "FreeRTOS.h"

// this code brakes console history and cases reboots

//void *operator new(size_t size) noexcept {
//    return pvPortMalloc(size);
//}
//
//void operator delete(void *ptr) noexcept {
//    vPortFree(ptr);
//}
//
//void *operator new[](size_t size) noexcept {
//    return pvPortMalloc(size);
//}
//
//void operator delete[](void *ptr) noexcept {
//    vPortFree(ptr);
//}

//extern "C" void *malloc(size_t size) {
//    return pvPortMalloc(size);
//}
//
//extern "C" void free(void *ptr) {
//    vPortFree(ptr);
//}

